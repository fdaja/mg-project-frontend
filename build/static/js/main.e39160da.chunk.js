(this["webpackJsonpmg-project-frontend"]=this["webpackJsonpmg-project-frontend"]||[]).push([[0],{101:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(76),l=t.n(o),c=(t(101),t(47)),i=t(9),s=t(16),m=t(165),d=t(176),g=t(172),u=t(173),h=t(120),f=t(166);var p=()=>{const[e,a]=Object(r.useState)({username:"",password:""}),t=Object(i.p)(),o=t=>{const{name:r,value:n}=t.target;a(Object(s.a)(Object(s.a)({},e),{},{[r]:n}))};return n.a.createElement(d.a,{sx:{backgroundImage:"linear-gradient(to bottom, #f7f8fc, #e9ecf4)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:3}},n.a.createElement(d.a,{sx:{position:"absolute",top:20,right:20}},n.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:()=>t("/home"),sx:{borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"}}},"Kthehu tek faqja kryesore")),n.a.createElement(u.a,{maxWidth:"sm"},n.a.createElement(d.a,{sx:{background:"#fff",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:"12px",padding:4}},n.a.createElement(h.a,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,sx:{fontWeight:600}},"Login"),n.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{const a=await m.a.post("http://127.0.0.1:5000/login",e),{access_token:r,user_id:n}=a.data;localStorage.setItem("token",r),localStorage.setItem("user_id",n),alert("Login successful"),t("/dashboard")}catch(l){var r,n,o;console.error("Failed to login:",(null===(r=l.response)||void 0===r?void 0:r.data)||l.message),alert((null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||"Failed to login. Please try again.")}}},n.a.createElement(f.a,{label:"Username",name:"username",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.username}),n.a.createElement(f.a,{label:"Password",name:"password",type:"password",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.password}),n.a.createElement(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:3,py:1.5,fontSize:"1rem"}},"LOGIN")),n.a.createElement(h.a,{align:"center",sx:{mt:2,color:"gray",fontSize:"0.875rem"}},"Nuk ke nje llogari??"," ",n.a.createElement("a",{href:"/register",style:{textDecoration:"none",color:"#1976d2"}},"Krijoje ketu")))))};var b=()=>{const[e,a]=Object(r.useState)({name:"",username:"",email:"",password:"",confirmPassword:""}),t=Object(i.p)(),o=t=>{const{name:r,value:n}=t.target;a(Object(s.a)(Object(s.a)({},e),{},{[r]:n}))};return n.a.createElement(d.a,{sx:{backgroundImage:"linear-gradient(to bottom, #f7f8fc, #e9ecf4)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:3}},n.a.createElement(d.a,{sx:{position:"absolute",top:20,right:20}},n.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:()=>t("/home"),sx:{borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"}}},"Kthehu tek faqja kryesore")),n.a.createElement(u.a,{maxWidth:"sm"},n.a.createElement(d.a,{sx:{background:"#fff",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:"12px",padding:4}},n.a.createElement(h.a,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,sx:{fontWeight:600}},"Krijoni llogarine"),n.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),e.password===e.confirmPassword)try{const a=await m.a.post("http://127.0.0.1:5000/register",{name:e.name,username:e.username,email:e.email,password:e.password});alert("Registration successful! Check your email for the confirmation code."),console.log("User registered:",a.data),t("/confirm-email",{state:{email:e.email}})}catch(l){var r,n,o;console.error("Failed to register user:",(null===(r=l.response)||void 0===r?void 0:r.data)||l.message),alert((null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||"Registration failed. Please try again.")}else alert("Passwords do not match! Please try again.")}},n.a.createElement(f.a,{label:"Emri",name:"name",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.name}),n.a.createElement(f.a,{label:"Username",name:"username",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.username}),n.a.createElement(f.a,{label:"Email",name:"email",type:"email",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.email}),n.a.createElement(f.a,{label:"Password",name:"password",type:"password",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.password}),n.a.createElement(f.a,{label:"Confirm Password",name:"confirmPassword",type:"password",fullWidth:!0,margin:"normal",required:!0,onChange:o,value:e.confirmPassword}),n.a.createElement(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:3,py:1.5,fontSize:"1rem"}},"Krijo")),n.a.createElement(h.a,{align:"center",sx:{mt:2,color:"gray",fontSize:"0.875rem"}},"Ke nje llogari tashme?"," ",n.a.createElement("a",{href:"/login",style:{textDecoration:"none",color:"#1976d2"}},"Logohu ketu")))))};var E=()=>{const[e,a]=Object(r.useState)(""),[t,o]=Object(r.useState)(null),[l,c]=Object(r.useState)(!1);return n.a.createElement(d.a,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#f7f8fc"}},n.a.createElement(d.a,{sx:{backgroundColor:"#1976d2",color:"#fff",padding:2}},n.a.createElement(u.a,{maxWidth:"lg"},n.a.createElement(d.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement(h.a,{variant:"h5",sx:{fontWeight:600}},"My Gadgets"),n.a.createElement(d.a,null,n.a.createElement(g.a,{color:"inherit",href:"/login"},"Login"),n.a.createElement(g.a,{color:"inherit",href:"/register",sx:{marginLeft:2,backgroundColor:"#fff",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"}}},"Register"))))),n.a.createElement(d.a,{sx:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:"#e9ecf4",padding:5}},n.a.createElement(u.a,{maxWidth:"md"},n.a.createElement(h.a,{variant:"h2",gutterBottom:!0,sx:{fontWeight:700}},"Welcome to My Gadgets Platform"),n.a.createElement(h.a,{variant:"h6",gutterBottom:!0},"Open an account and register your gadgets"),n.a.createElement(g.a,{variant:"contained",color:"primary",href:"/register",sx:{mt:3,py:1.5,px:4,fontSize:"1.1rem",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#145ea8"}}},"Create Your Account"),n.a.createElement(d.a,{sx:{mt:4}},n.a.createElement(h.a,{variant:"h6",gutterBottom:!0},"Search gadgets by serial number!"),n.a.createElement(f.a,{label:"Serial Number",variant:"outlined",value:e,onChange:e=>a(e.target.value),sx:{mr:2,width:"300px"}}),n.a.createElement(g.a,{variant:"contained",sx:{py:1.5,px:3,fontSize:"1rem",backgroundColor:l?"#ccc":"#1976d2",color:"#fff","&:hover":{backgroundColor:l?"#ccc":"#145ea8"},cursor:l?"not-allowed":"pointer"},onClick:async()=>{e?(c(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async a=>{const{latitude:t,longitude:r}=a.coords;try{const a=await m.a.post("http://127.0.0.1:5000/gadgets/search",{serial_number:e,latitude:t,longitude:r});o(a.data)}catch(n){console.error("Failed to search gadget:",n),o(null),n.response&&404===n.response.status?alert("No gadget found with the provided serial number."):alert("An error occurred while searching for the gadget.")}finally{c(!1)}},e=>{console.error("Error getting location:",e),alert("Unable to retrieve your location. Please check your location settings."),c(!1)}):(alert("Geolocation is not supported by your browser."),c(!1))):alert("Please enter a serial number to search.")},disabled:l},l?"Searching...":"Search")),t?n.a.createElement(d.a,{sx:{mt:4,mb:4,backgroundColor:"#fff",padding:3,borderRadius:1,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",textAlign:"left"}},n.a.createElement(h.a,{variant:"h6",sx:{fontWeight:600,mb:2}},"Search Results:"),n.a.createElement(h.a,null,n.a.createElement("strong",null,"Serial Number:")," ",t.serial_number),n.a.createElement(h.a,null,n.a.createElement("strong",null,"Gadget Name:")," ",t.gadget_name||"N/A"),n.a.createElement(h.a,null,n.a.createElement("strong",null,"Note:")," ",t.note||"N/A"),n.a.createElement(h.a,null,n.a.createElement("strong",null,"Status:")," ",t.status||"N/A")):n.a.createElement(h.a,{sx:{mt:2}},"No results found."))),n.a.createElement(d.a,{sx:{backgroundColor:"#1976d2",color:"#fff",py:2,textAlign:"center"}},n.a.createElement(h.a,null,"\xa9 2025 My Gadgets. All rights reserved.")))},y=t(178),v=t(171),x=t(175),C=t(179),w=t(180),j=t(181),k=t(164),_=t(182),S=t(183),O=t(170);var P=()=>{const[e,a]=Object(r.useState)([]),[t,o]=Object(r.useState)([]),[l,c]=Object(r.useState)([]),[i,p]=Object(r.useState)(""),[b,E]=Object(r.useState)(!1),[P,W]=Object(r.useState)(!1),[I,N]=Object(r.useState)(!1),[A,F]=Object(r.useState)(!1),[z,B]=Object(r.useState)(null),[R,D]=Object(r.useState)({}),[G,L]=Object(r.useState)({gadget_name:"",serial_number:"",note:"",report_type_id:3}),q=Object(r.useCallback)(async()=>{try{const e=localStorage.getItem("user_id"),t=await m.a.get("http://127.0.0.1:5000/users/".concat(e,"/gadgets?is_deleted=").concat(b),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});a(t.data),o(t.data)}catch(e){console.error("Failed to fetch gadgets:",e)}},[b]),U=Object(r.useCallback)(async()=>{try{const e=await m.a.get("http://127.0.0.1:5000/report_types",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data)}catch(e){console.error("Failed to fetch report types:",e)}},[]);Object(r.useEffect)(()=>{q(),U()},[q,U]),Object(r.useEffect)(()=>{const a=e.filter(e=>[e.gadget_name,e.serial_number,e.note,e.report_type].join(" ").toLowerCase().includes(i.toLowerCase()));o(a)},[i,e]);const K=()=>W(!1),H=()=>{D({}),N(!1)},M=()=>{B(null),F(!1)};return n.a.createElement(d.a,{sx:{minHeight:"100vh",backgroundColor:"#f7f8fc"}},n.a.createElement(d.a,{sx:{backgroundColor:"#1976d2",color:"#fff",padding:2}},n.a.createElement(u.a,{maxWidth:"lg"},n.a.createElement(d.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement(h.a,{variant:"h5",sx:{fontWeight:600}},"My Gadgets Dashboard"),n.a.createElement(d.a,{sx:{display:"flex",alignItems:"center"}},n.a.createElement(g.a,{color:"inherit",onClick:()=>{window.location.href="/profile"},sx:{backgroundColor:"#fff",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"},display:"flex",alignItems:"center",justifyContent:"center",minWidth:"100px",padding:"8px 16px",marginRight:2}},n.a.createElement(d.a,{component:"span",sx:{marginRight:1,alignItems:"center"}},n.a.createElement("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"User Icon",width:"20",height:"20"})),"PROFILE"),n.a.createElement(g.a,{color:"inherit",onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},sx:{backgroundColor:"#fff",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"},display:"flex",alignItems:"center",justifyContent:"center",minWidth:"100px",height:"44px",padding:"8px 16px",marginRight:2}},"Logout"))))),n.a.createElement(u.a,{maxWidth:"lg",sx:{py:5}},n.a.createElement(d.a,{sx:{display:"flex",justifyContent:"space-between",mb:3}},n.a.createElement(h.a,{variant:"h4",sx:{fontWeight:600}},"Pajisjet e mia"),n.a.createElement(g.a,{variant:"contained",color:"primary",onClick:()=>W(!0)},"Add Gadget")),n.a.createElement(d.a,{sx:{display:"flex",alignItems:"center",mb:3}},n.a.createElement(y.a,{control:n.a.createElement(v.a,{checked:b,onChange:()=>E(!b),color:"primary"}),label:"Shfaq pajisjet e fshira"})),n.a.createElement(d.a,{sx:{mb:3}},n.a.createElement(f.a,{label:"Kerko ne baze te emrin, numrit serial ose statusit",value:i,onChange:e=>p(e.target.value),fullWidth:!0,variant:"outlined"})),0===t.length?n.a.createElement(h.a,null,"Pajisja qe kerkoni nuk gjendet"):n.a.createElement(x.a,{container:!0,spacing:4},t.map(e=>n.a.createElement(x.a,{item:!0,xs:12,sm:6,md:4,key:e.id},n.a.createElement(C.a,null,n.a.createElement(w.a,null,n.a.createElement(h.a,{variant:"h6"},e.gadget_name),n.a.createElement(h.a,{variant:"body2"},"Serial Number: ",e.serial_number),n.a.createElement(h.a,{variant:"body2"},"Note: ",e.note),n.a.createElement(h.a,{variant:"body2"},"Status: ",e.report_type||"N/A"),n.a.createElement(d.a,{sx:{mt:2}},e.is_deleted?n.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:()=>(async e=>{try{await m.a.put("http://127.0.0.1:5000/gadgets/".concat(e,"/recover"),{is_deleted:!1},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),q()}catch(a){console.error("Failed to recover gadget:",a)}})(e.id)},"Recover"):n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{variant:"outlined",color:"primary",sx:{mr:1},onClick:()=>(e=>{const a=l.find(a=>a.report_type_name===e.report_type);D({id:e.id,gadget_name:e.gadget_name,serial_number:e.serial_number,note:e.note,report_type_id:a?a.report_type_id:""}),N(!0)})(e)},"Edit"),n.a.createElement(g.a,{variant:"outlined",color:"error",onClick:()=>{return a=e.id,B(a),void F(!0);var a}},"Delete"))))))))),n.a.createElement(j.a,{open:A,onClose:M},n.a.createElement(k.a,null,"Confirm Delete"),n.a.createElement(_.a,null,n.a.createElement(h.a,null,"Are you sure you want to delete this gadget? This action cannot be undone.")),n.a.createElement(S.a,null,n.a.createElement(g.a,{onClick:M},"Cancel"),n.a.createElement(g.a,{onClick:async()=>{try{await m.a.put("http://127.0.0.1:5000/gadgets/".concat(z),{is_deleted:!0},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),q(),M()}catch(e){console.error("Failed to delete gadget:",e)}},variant:"contained",color:"error"},"Delete"))),n.a.createElement(j.a,{open:I,onClose:H},n.a.createElement(k.a,null,"Edit Gadget"),n.a.createElement(_.a,null,n.a.createElement(f.a,{label:"Gadget Name",value:R.gadget_name||"",onChange:e=>D(Object(s.a)(Object(s.a)({},R),{},{gadget_name:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Serial Number",value:R.serial_number||"",onChange:e=>D(Object(s.a)(Object(s.a)({},R),{},{serial_number:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Note",value:R.note||"",onChange:e=>D(Object(s.a)(Object(s.a)({},R),{},{note:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Status",select:!0,value:R.report_type_id||"",onChange:e=>D(Object(s.a)(Object(s.a)({},R),{},{report_type_id:e.target.value})),fullWidth:!0,margin:"normal"},l.map(e=>n.a.createElement(O.a,{key:e.report_type_id,value:e.report_type_id},e.report_type_name)))),n.a.createElement(S.a,null,n.a.createElement(g.a,{onClick:H},"Cancel"),n.a.createElement(g.a,{onClick:async()=>{try{const e={gadget_name:R.gadget_name,serial_number:R.serial_number,note:R.note,report_type_id:R.report_type_id};await m.a.put("http://127.0.0.1:5000/gadgets/".concat(R.id,"/update"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),q(),H()}catch(e){console.error("Failed to edit gadget:",e)}},variant:"contained",color:"primary"},"Save Changes"))),n.a.createElement(j.a,{open:P,onClose:K},n.a.createElement(k.a,null,"Add New Gadget"),n.a.createElement(_.a,null,n.a.createElement(f.a,{label:"Gadget Name",value:G.gadget_name,onChange:e=>L(Object(s.a)(Object(s.a)({},G),{},{gadget_name:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Serial Number",value:G.serial_number,onChange:e=>L(Object(s.a)(Object(s.a)({},G),{},{serial_number:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Note",value:G.note,onChange:e=>L(Object(s.a)(Object(s.a)({},G),{},{note:e.target.value})),fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Status",select:!0,value:G.report_type_id,onChange:e=>L(Object(s.a)(Object(s.a)({},G),{},{report_type_id:e.target.value})),fullWidth:!0,margin:"normal"},l.map(e=>n.a.createElement(O.a,{key:e.report_type_id,value:e.report_type_id},e.report_type_name)))),n.a.createElement(S.a,null,n.a.createElement(g.a,{onClick:K},"Cancel"),n.a.createElement(g.a,{onClick:async()=>{try{const e=localStorage.getItem("user_id"),a=Object(s.a)(Object(s.a)({},G),{},{owner_id:e});await m.a.post("http://127.0.0.1:5000/gadgets",a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),q(),L({gadget_name:"",serial_number:"",note:"",report_type_id:3}),K()}catch(e){console.error("Failed to add gadget:",e)}},variant:"contained",color:"primary"},"Add Gadget"))))};var W=()=>{var e;const[a,t]=Object(r.useState)(""),[o,l]=Object(r.useState)(""),[c,s]=Object(r.useState)(""),p=Object(i.p)(),b=null===(e=Object(i.n)().state)||void 0===e?void 0:e.email;Object(r.useEffect)(()=>{b||s("No email provided. Please register first.")},[b]);return n.a.createElement(d.a,{sx:{backgroundImage:"linear-gradient(to bottom, #f7f8fc, #e9ecf4)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:3}},n.a.createElement(u.a,{maxWidth:"sm"},n.a.createElement(d.a,{sx:{background:"#fff",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:"12px",padding:4}},n.a.createElement(h.a,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,sx:{fontWeight:600}},"Email Confirmation"),b&&n.a.createElement(h.a,{align:"center",sx:{mt:2,color:"gray",fontSize:"0.875rem"}},"Confirming for: ",n.a.createElement("strong",null,b)),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),b)try{const e=await m.a.post("http://127.0.0.1:5000/confirm",{email:b,confirmation_code:a});l(e.data.message),s(""),setTimeout(()=>{p("/login")},2e3)}catch(n){var t,r;l(""),s((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Something went wrong.")}else s("Email is missing. Please go back to registration.")}},n.a.createElement(f.a,{label:"Confirmation Code",name:"confirmationCode",type:"text",fullWidth:!0,margin:"normal",required:!0,onChange:e=>t(e.target.value),value:a}),n.a.createElement(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:3,py:1.5,fontSize:"1rem"}},"Confirm Email")),o&&n.a.createElement(h.a,{align:"center",sx:{mt:2,color:"green"}},o),c&&n.a.createElement(h.a,{align:"center",sx:{mt:2,color:"red"}},c))))},I=t(184),N=t(169);var A=()=>{const[e,a]=Object(r.useState)({name:"",email:"",username:""}),[t,o]=Object(r.useState)(!1),[l,c]=Object(r.useState)(!1),[i,p]=Object(r.useState)(""),[b,E]=Object(r.useState)(""),[y,v]=Object(r.useState)(!1),[x,C]=Object(r.useState)({currentPassword:"",newPassword:"",confirmPassword:""});Object(r.useEffect)(()=>{w()},[]);const w=async()=>{c(!0);try{const e=localStorage.getItem("user_id"),t=await m.a.get("http://127.0.0.1:5000/users/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});a(t.data)}catch(e){console.error("Failed to fetch user details:",e),E("Failed to fetch user details. Please try again later.")}finally{c(!1)}},O=t=>{const{name:r,value:n}=t.target;a(Object(s.a)(Object(s.a)({},e),{},{[r]:n}))},P=e=>{const{name:a,value:t}=e.target;C(Object(s.a)(Object(s.a)({},x),{},{[a]:t}))};return n.a.createElement(d.a,{sx:{minHeight:"100vh",backgroundColor:"#f7f8fc"}},n.a.createElement(d.a,{sx:{backgroundColor:"#1976d2",color:"#fff",padding:2}},n.a.createElement(u.a,{maxWidth:"lg"},n.a.createElement(d.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement(h.a,{variant:"h5",sx:{fontWeight:600}},"User Profile"),n.a.createElement(d.a,null,n.a.createElement(g.a,{variant:"contained",onClick:()=>{window.location.href="/dashboard"},sx:{backgroundColor:"#fff",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"},marginRight:2}},"Dashboard"),n.a.createElement(g.a,{variant:"contained",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user_id"),window.location.href="/login"},sx:{backgroundColor:"#fff",color:"#1976d2","&:hover":{backgroundColor:"#e3f2fd"}}},"Logout"))))),n.a.createElement(u.a,{maxWidth:"sm",sx:{py:5}},n.a.createElement(d.a,{sx:{mb:3}},n.a.createElement(h.a,{variant:"h4",sx:{fontWeight:600,mb:2}},"Your Details"),l&&n.a.createElement(I.a,{sx:{mb:3}}),i&&n.a.createElement(N.a,{severity:"success"},i),b&&n.a.createElement(N.a,{severity:"error"},b),n.a.createElement(f.a,{label:"Name",name:"name",value:e.name,onChange:O,fullWidth:!0,margin:"normal",disabled:!t}),n.a.createElement(f.a,{label:"Email",name:"email",value:e.email,onChange:O,fullWidth:!0,margin:"normal",disabled:!t}),n.a.createElement(f.a,{label:"Username",name:"username",value:e.username,onChange:O,fullWidth:!0,margin:"normal",disabled:!t}),n.a.createElement(d.a,{sx:{mt:3,display:"flex",justifyContent:"space-between"}},t?n.a.createElement(g.a,{variant:"contained",color:"primary",onClick:async()=>{c(!0);try{const a=localStorage.getItem("user_id");await m.a.put("http://127.0.0.1:5000/users/".concat(a,"/update"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),o(!1),p("User details updated successfully!"),w()}catch(a){console.error("Failed to update user details:",a),E("Failed to update user details. Please try again later.")}finally{c(!1)}},disabled:l},"Save Changes"):n.a.createElement(g.a,{variant:"contained",color:"primary",onClick:()=>o(!0)},"Edit Details"),t&&n.a.createElement(g.a,{variant:"outlined",color:"secondary",onClick:()=>{o(!1),E(""),p(""),w()},disabled:l},"Cancel")),n.a.createElement(d.a,{sx:{mt:3}},n.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:()=>v(!0)},"Change Password")))),n.a.createElement(j.a,{open:y,onClose:()=>v(!1)},n.a.createElement(k.a,null,"Change Password"),n.a.createElement(_.a,null,n.a.createElement(f.a,{label:"Current Password",name:"currentPassword",type:"password",value:x.currentPassword,onChange:P,fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"New Password",name:"newPassword",type:"password",value:x.newPassword,onChange:P,fullWidth:!0,margin:"normal"}),n.a.createElement(f.a,{label:"Confirm New Password",name:"confirmPassword",type:"password",value:x.confirmPassword,onChange:P,fullWidth:!0,margin:"normal"})),n.a.createElement(S.a,null,n.a.createElement(g.a,{onClick:()=>v(!1),color:"secondary"},"Cancel"),n.a.createElement(g.a,{onClick:async()=>{if(x.newPassword===x.confirmPassword){c(!0);try{const e=localStorage.getItem("user_id");await m.a.put("http://127.0.0.1:5000/users/".concat(e,"/change-password"),{currentPassword:x.currentPassword,newPassword:x.newPassword},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),v(!1),p("Password changed successfully!"),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Failed to change password:",e),E("Failed to change password. Please try again later.")}finally{c(!1)}}else E("New passwords do not match.")},variant:"contained",color:"primary",disabled:l},"Change Password"))))};var F=function(){return n.a.createElement(c.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/login",element:n.a.createElement(p,null)}),n.a.createElement(i.a,{path:"/register",element:n.a.createElement(b,null)}),n.a.createElement(i.a,{path:"/home",element:n.a.createElement(E,null)}),n.a.createElement(i.a,{path:"/dashboard",element:n.a.createElement(P,null)}),n.a.createElement(i.a,{path:"/confirm-email",element:n.a.createElement(W,null)}),n.a.createElement(i.a,{path:"/profile",element:n.a.createElement(A,null)})," "))};var z=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,186)).then(a=>{let{getCLS:t,getFID:r,getFCP:n,getLCP:o,getTTFB:l}=a;t(e),r(e),n(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(F,null))),z()},94:function(e,a,t){e.exports=t(110)}},[[94,1,2]]]);
//# sourceMappingURL=main.e39160da.chunk.js.map